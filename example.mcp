// Comments
/* Comments */

// Define macro 'foo'
#def foo
say Hello, world
#end

// Define function
@main {
    %foo // Expand macro 'foo'

    // Nested functions
    @baz {
        @bar {
            say Bar!
        }

        say Baz!
    }

    // Lambda functions
    // NOTE: Lambda will be replaced with its name
    //       e.g. in this example the code block will be processed
    //       into `function test:main.0 with entity @s`
    function test:\
    #lambda {
        say Hello, world!
    } with entity @s

    function test:\
    #lambda {
        say Hello, world!

        // Nested lambda functions
        function test:\
        #lambda {
            say Goodbye, world!
        }; // `;` is used to paste new line, because by default the lambda
           // function will be replaced by its name without newline
    };

    // Execute nested functions
    function test:main.baz
    function test:main.baz.bar

    say Hello, world
    $say Hello, world
    execute as @s run function main:setup {a:12, b:13}
}

@foo {
    tellraw @s FIND IT!!!
}

@baz {
    say OK!
}
